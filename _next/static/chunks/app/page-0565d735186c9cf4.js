(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5083:(e,t,r)=>{Promise.resolve().then(r.bind(r,5016))},5016:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var n=r(5155),o=r(2115);let a="color-combinations";class l{getStorage(){let e=localStorage.getItem(a);return e?JSON.parse(e):[]}setStorage(e){localStorage.setItem(a,JSON.stringify(e))}async save(e){let t=this.getStorage(),r={...e,id:crypto.randomUUID(),createdAt:new Date};return t.push(r),this.setStorage(t),r}async load(e){return this.getStorage().find(t=>t.id===e)||null}async list(){return this.getStorage()}async delete(e){let t=this.getStorage().filter(t=>t.id!==e);this.setStorage(t)}async update(e,t){let r=this.getStorage(),n=r.findIndex(t=>t.id===e);if(-1===n)throw Error("Combination not found");let o={...r[n],...t};return r[n]=o,this.setStorage(r),o}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(o[r]=e[r]);return o}function c(e){var t=(0,o.useRef)(e),r=(0,o.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var u,d=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},f=function(e){return"touches"in e},h=function(e){return e&&e.ownerDocument.defaultView||self},g=function(e,t,r){var n=e.getBoundingClientRect(),o=f(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:d((o.pageX-(n.left+h(e).pageXOffset))/n.width),top:d((o.pageY-(n.top+h(e).pageYOffset))/n.height)}},m=function(e){f(e)||e.preventDefault()},v=o.memo(function(e){var t=e.onMove,r=e.onKey,n=i(e,["onMove","onKey"]),a=(0,o.useRef)(null),l=c(t),u=c(r),d=(0,o.useRef)(null),v=(0,o.useRef)(!1),x=(0,o.useMemo)(function(){var e=function(e){m(e),(f(e)?e.touches.length>0:e.buttons>0)&&a.current?l(g(a.current,e,d.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=v.current,o=h(a.current),l=r?o.addEventListener:o.removeEventListener;l(n?"touchmove":"mousemove",e),l(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=a.current;if(n&&(m(t),(!v.current||f(t))&&n)){if(f(t)){v.current=!0;var o=t.changedTouches||[];o.length&&(d.current=o[0].identifier)}n.focus(),l(g(n,t,d.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),u({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[u,l]),p=x[0],b=x[1],w=x[2];return(0,o.useEffect)(function(){return w},[w]),o.createElement("div",s({},n,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:a,onKeyDown:b,tabIndex:0,role:"slider"}))}),x=function(e){return e.filter(Boolean).join(" ")},p=function(e){var t=e.color,r=e.left,n=e.top,a=x(["react-colorful__pointer",e.className]);return o.createElement("div",{className:a,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},o.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},b=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},w={grad:.9,turn:360,rad:360/(2*Math.PI)},y=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?b(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?b(parseInt(e.substring(6,8),16)/255,2):1}},j=function(e,t){return void 0===t&&(t="deg"),Number(e)*(w[t]||1)},N=function(e){var t=e.s,r=e.l;return{h:e.h,s:(t*=(r<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}},_=function(e){var t=e.s,r=e.v,n=e.a,o=(200-t)*r/100;return{h:b(e.h),s:b(o>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0),l:b(o/2),a:b(n,2)}},C=function(e){var t=_(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},k=function(e){var t=_(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},S=function(e){var t=e.h,r=e.s,n=e.v,o=e.a;t=t/360*6,r/=100,n/=100;var a=Math.floor(t),l=n*(1-r),s=n*(1-(t-a)*r),i=n*(1-(1-t+a)*r),c=a%6;return{r:b(255*[n,s,l,l,i,n][c]),g:b(255*[i,n,n,s,l,l][c]),b:b(255*[l,l,i,n,n,s][c]),a:b(o,2)}},E=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},M=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=o<1?E(b(255*o)):"";return"#"+E(t)+E(r)+E(n)+a},I=function(e){var t=e.r,r=e.g,n=e.b,o=e.a,a=Math.max(t,r,n),l=a-Math.min(t,r,n),s=l?a===t?(r-n)/l:a===r?2+(n-t)/l:4+(t-r)/l:0;return{h:b(60*(s<0?s+6:s)),s:b(a?l/a*100:0),v:b(a/255*100),a:o}},R=function(e){return{h:b(e.h),s:b(e.s),v:b(e.v),a:b(e.a,2)}},O=o.memo(function(e){var t=e.hue,r=e.onChange,n=x(["react-colorful__hue",e.className]);return o.createElement("div",{className:n},o.createElement(v,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:d(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(t),"aria-valuemax":"360","aria-valuemin":"0"},o.createElement(p,{className:"react-colorful__hue-pointer",left:t/360,color:C({h:t,s:100,v:100,a:1})})))}),D=o.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:C({h:t.h,s:100,v:100,a:1})};return o.createElement("div",{className:"react-colorful__saturation",style:n},o.createElement(v,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:d(t.s+100*e.left,0,100),v:d(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(t.s)+"%, Brightness "+b(t.v)+"%"},o.createElement(p,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:C(t)})))}),z=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},B="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,H=new Map,L=function(e){B(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!H.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',H.set(t,n);var o=u||r.nc;o&&n.setAttribute("nonce",o),t.head.appendChild(n)}},[])},q=function(e){var t,r,n,a,l,u,d,f=e.className,h=e.colorModel,g=e.color,m=void 0===g?h.defaultColor:g,v=e.onChange,p=i(e,["className","colorModel","color","onChange"]),b=(0,o.useRef)(null);L(b);var w=(t=h,r=m,n=c(v),l=(a=(0,o.useState)(function(){return t.toHsva(r)}))[0],u=a[1],d=(0,o.useRef)({color:r,hsva:l}),(0,o.useEffect)(function(){if(!t.equal(r,d.current.color)){var e=t.toHsva(r);d.current={hsva:e,color:r},u(e)}},[r,t]),(0,o.useEffect)(function(){var e;z(l,d.current.hsva)||t.equal(e=t.fromHsva(l),d.current.color)||(d.current={hsva:l,color:e},n(e))},[l,t,n]),[l,(0,o.useCallback)(function(e){u(function(t){return Object.assign({},t,e)})},[])]),y=w[0],j=w[1],N=x(["react-colorful",f]);return o.createElement("div",s({},p,{ref:b,className:N}),o.createElement(D,{hsva:y,onChange:j}),o.createElement(O,{hue:y.h,onChange:j,className:"react-colorful__last-control"}))},A={defaultColor:"000",toHsva:function(e){return I(y(e))},fromHsva:function(e){return M(S({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||z(y(e),y(t))}},K=function(e){return o.createElement(q,s({},e,{colorModel:A}))};function F(e){let{value:t,onChange:r}=e,[a,l]=(0,o.useState)(!1),[s,i]=(0,o.useState)(t);return(0,n.jsxs)("div",{className:"relative inline-block",children:[(0,n.jsx)("button",{type:"button",className:"w-12 h-12 rounded border border-gray-300",style:{backgroundColor:t},onClick:()=>l(e=>!e),"aria-label":"カラーピッカーを開く"}),a&&(0,n.jsxs)("div",{className:"absolute z-20 mt-2 left-0 bg-white rounded-lg shadow-lg p-4 min-w-[220px]",children:[(0,n.jsx)(K,{color:t,onChange:e=>{r(e),i(e)}}),(0,n.jsx)("input",{className:"mt-2 w-full border rounded px-2 py-1 text-sm",value:s,onChange:e=>{var t,n;i(e.target.value),t=e.target.value,(/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t)||(n=e.target.value,/^rgba?\((\s*\d+\s*,){2,3}\s*(\d+(\.\d+)?|\d+%)\s*\)$/.test(n)))&&r(e.target.value)},placeholder:"#RRGGBB または rgba(…)",spellCheck:!1}),(0,n.jsx)("div",{className:"flex justify-end mt-2",children:(0,n.jsx)("button",{className:"px-3 py-1 text-xs bg-gray-200 rounded hover:bg-gray-300",onClick:()=>l(!1),children:"閉じる"})})]})]})}function P(e){let{combination:t,size:r=6}=e,o="".concat(r,"rem"),a="".concat(r/2,"rem"),l="3rem";return(0,n.jsxs)("div",{className:"relative flex",style:{width:o,height:o},children:[(0,n.jsx)("div",{style:{width:a,height:o,backgroundColor:t.leftBackgroundColor}}),(0,n.jsx)("div",{style:{width:a,height:o,backgroundColor:t.rightBackgroundColor}}),(0,n.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:l,height:l,backgroundColor:t.centerSquareColor,transform:"translate(-50%, -50%)",borderRadius:"0.25rem",border:"2px solid #fff",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}})]})}function T(e){let{combinations:t,onDelete:r,onNameChange:a}=e,[l,s]=(0,o.useState)(null),[i,c]=(0,o.useState)(""),u=e=>{s(e.id),c(e.name)},d=e=>{i.trim()&&(a(e,i.trim()),s(null))};return(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4",children:t.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[(0,n.jsx)(P,{combination:e}),(0,n.jsxs)("div",{className:"mt-4 text-center",children:[l===e.id?(0,n.jsx)("input",{type:"text",value:i,onChange:e=>c(e.target.value),onBlur:()=>d(e.id),onKeyPress:t=>"Enter"===t.key&&d(e.id),className:"w-full px-2 py-1 border rounded",autoFocus:!0}):(0,n.jsx)("h3",{className:"text-lg font-medium cursor-pointer hover:bg-gray-100 rounded px-2 py-1",onClick:()=>u(e),children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.centerSquareColor}),(0,n.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,n.jsx)("div",{className:"mt-4 text-center",children:(0,n.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",onClick:()=>{window.confirm("この色の組み合わせを削除しますか？")&&r(e.id)},children:"削除"})})]},e.id))})}function G(e){let{leftColor:t,rightColor:r,centerColor:o,height:a="40rem"}=e;return(0,n.jsxs)("div",{className:"relative w-full flex",style:{height:a},children:[(0,n.jsx)("div",{style:{width:"50%",height:"100%",backgroundColor:t,position:"relative"},children:(0,n.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:"10rem",height:"10rem",backgroundColor:o,transform:"translate(-50%, -50%)",borderRadius:"0.25rem"}})}),(0,n.jsx)("div",{style:{width:"50%",height:"100%",backgroundColor:r,position:"relative"},children:(0,n.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:"10rem",height:"10rem",backgroundColor:o,transform:"translate(-50%, -50%)",borderRadius:"0.25rem"}})})]})}let J=new l;function U(){return"#"+Math.floor(0xffffff*Math.random()).toString(16).padStart(6,"0")}function X(){let[e,t]=(0,o.useState)(U()),[r,a]=(0,o.useState)(U()),[l,s]=(0,o.useState)(U()),[i,c]=(0,o.useState)([]),[u,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{d(window.innerWidth<428)};return(async()=>{c(await J.list())})(),e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let f=async()=>{let t=prompt("保存する名前を入力してください（未入力の場合は中央の色のカラーコードが使用されます）");c([...i,await J.save({name:t||l,leftBackgroundColor:e,rightBackgroundColor:r,centerSquareColor:l})])},h=async e=>{await J.delete(e),c(i.filter(t=>t.id!==e))},g=async(e,t)=>{let r=await J.update(e,{name:t});c(i.map(t=>t.id===e?r:t))};return(0,n.jsx)("main",{className:"min-h-screen bg-gray-100",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"背景色チェッカー"}),(0,n.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2 justify-center",children:[(0,n.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",onClick:()=>{t(U()),a(U()),s(U())},children:"すべてランダム"}),(0,n.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",onClick:()=>t(U()),children:"左だけランダム"}),(0,n.jsx)("button",{className:"px-4 py-2 bg-pink-500 text-white rounded hover:bg-pink-600 transition-colors",onClick:()=>a(U()),children:"右だけランダム"}),(0,n.jsx)("button",{className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",onClick:()=>s(U()),children:"真ん中だけランダム"})]}),(0,n.jsxs)("div",{className:"flex ".concat(u?"flex-col":"flex-row"," gap-8 mb-8 items-start justify-center"),children:[(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"左側の色"}),(0,n.jsx)(F,{value:e,onChange:t})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"中央の色"}),(0,n.jsx)(F,{value:l,onChange:s})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"右側の色"}),(0,n.jsx)(F,{value:r,onChange:a})]})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)(G,{leftColor:e,rightColor:r,centerColor:l,height:u?"8rem":"40rem"})}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("button",{className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",onClick:f,children:"現在の色の組み合わせを保存"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"保存した色の組み合わせ"}),(0,n.jsx)(T,{combinations:i,onDelete:h,onNameChange:g})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(5083)),_N_E=e.O()}]);